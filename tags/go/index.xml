<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Go on SDTTTTT&#39;s Smelly fish Rotten shrimp ğŸ““</title>
    <link>https://sdttttt.github.io/tags/go/</link>
    <description>Recent content in Go on SDTTTTT&#39;s Smelly fish Rotten shrimp ğŸ““</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>Copyright Â© 2020, SDTTTTT.</copyright>
    <lastBuildDate>Fri, 13 Nov 2020 15:31:53 +0800</lastBuildDate><atom:link href="https://sdttttt.github.io/tags/go/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Goçš„mapçš„ä¸ªä»€ä¹ˆç»“æ„</title>
      <link>https://sdttttt.github.io/blog/go-map/</link>
      <pubDate>Fri, 13 Nov 2020 15:31:53 +0800</pubDate>
      
      <guid>https://sdttttt.github.io/blog/go-map/</guid>
      <description>å®é™…ä¸ŠGoçš„mapå’ŒJava7ä¹‹å‰çš„HashMap, éå¸¸ç›¸ä¼¼ã€‚éƒ½æ˜¯Array + LinkedTableçš„ç»“æ„ã€‚
ç»“æ„ mapæ•°æ®ç»“æ„ç”±runtime/map.go/hmapå®šä¹‰:
type hmap struct { count int // å½“å‰ä¿å­˜çš„å…ƒç´ ä¸ªæ•°  ... B uint8 // æŒ‡ç¤ºbucketæ•°ç»„çš„å¤§å°  ... buckets unsafe.Pointer // bucketæ•°ç»„æŒ‡é’ˆï¼Œæ•°ç»„çš„å¤§å°ä¸º2^B  ... } bucketæ•°æ®ç»“æ„ç”±runtime/map.go/bmapå®šä¹‰ï¼š
type bmap struct { tophash [8]uint8 //å­˜å‚¨å“ˆå¸Œå€¼çš„é«˜8ä½  data byte[1] //key valueæ•°æ®:key/key/key/.../value/value/value...  overflow *bmap //æº¢å‡ºbucketçš„åœ°å€ } è¿™é‡Œä½¿ç”¨çš„æ•°ç»„å¯¹é½æ–¹å¼æ¥å­˜æ”¾æ•°æ®ã€‚overflowæŒ‡å‘ä¸‹ä¸€ä¸ªbucket.
å·¥ä½œæµç¨‹ é¦–å…ˆé€šè¿‡keyè®¡ç®—Hashå€¼ï¼Œé€šè¿‡Hashçš„ä½ä½ï¼Œè®¡ç®—å‡ºè¯¥å…ƒç´ éœ€è¦å­˜æ”¾åœ¨bucketsä¸­çš„å“ªä¸€ä¸ªbucket. å¦‚æœHashå†²çªï¼Œä¹Ÿå°±æ˜¯å½“å‰bucketå·²ç»æœ‰äººè¿›å»äº†ã€‚é‚£ä¹ˆå°±ä½¿ç”¨è¯¥bucketçš„overflowæŒ‡å‘è‡ªå·±çš„bucket.
æŸ¥æ‰¾å…ƒç´ ä¹Ÿæ˜¯å¤§åŒå°å¼‚ã€‚</description>
    </item>
    
  </channel>
</rss>
