<!DOCTYPE html>
<html lang="zh-cn"><head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Appveyor ‰πüÊòØ‰∏ÄÊ¨æÁ∫ø‰∏ä CICD Â∑•ÂÖ∑„ÄÇ
Support Contexts:
 Windows (Default) Ubuntu MacOS  Support Languages:
 Node.js io.js Xamarin Python Ruby C&#43;&#43; Go  Ruby version:1.0.{build}-{branch}skip_commits:files:- &amp;#39;azure-pipelines.yml&amp;#39;- &amp;#39;README.md&amp;#39;install:- set PATH=C:\Ruby26-x64\bin;%PATH%- bundle installbuild:offbefore_test:- ruby -v- gem -v- bundle -vtest_script:- rails db:migrate RAILS_ENV=testAppveyor.yml Reference # Notes:# - Minimal appveyor.yml file is an empty file. All sections are optional.# - Indent each level of configuration with 2 spaces. Do not use tabs!# - All section names are case-sensitive.'><title>Appveyor</title>
    
    <link rel='canonical' href='https://sdttttt.github.io/p/appveyor/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='Appveyor'>
<meta property='og:description' content='Appveyor ‰πüÊòØ‰∏ÄÊ¨æÁ∫ø‰∏ä CICD Â∑•ÂÖ∑„ÄÇ
Support Contexts:
 Windows (Default) Ubuntu MacOS  Support Languages:
 Node.js io.js Xamarin Python Ruby C&#43;&#43; Go  Ruby version:1.0.{build}-{branch}skip_commits:files:- &amp;#39;azure-pipelines.yml&amp;#39;- &amp;#39;README.md&amp;#39;install:- set PATH=C:\Ruby26-x64\bin;%PATH%- bundle installbuild:offbefore_test:- ruby -v- gem -v- bundle -vtest_script:- rails db:migrate RAILS_ENV=testAppveyor.yml Reference # Notes:# - Minimal appveyor.yml file is an empty file. All sections are optional.# - Indent each level of configuration with 2 spaces. Do not use tabs!# - All section names are case-sensitive.'>
<meta property='og:url' content='https://sdttttt.github.io/p/appveyor/'>
<meta property='og:site_name' content='Smelly fish Rotten shrimp üìì'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='CICD' />
<meta name="twitter:title" content="Appveyor">
<meta name="twitter:description" content="Appveyor ‰πüÊòØ‰∏ÄÊ¨æÁ∫ø‰∏ä CICD Â∑•ÂÖ∑„ÄÇ
Support Contexts:
 Windows (Default) Ubuntu MacOS  Support Languages:
 Node.js io.js Xamarin Python Ruby C&#43;&#43; Go  Ruby version:1.0.{build}-{branch}skip_commits:files:- &amp;#39;azure-pipelines.yml&amp;#39;- &amp;#39;README.md&amp;#39;install:- set PATH=C:\Ruby26-x64\bin;%PATH%- bundle installbuild:offbefore_test:- ruby -v- gem -v- bundle -vtest_script:- rails db:migrate RAILS_ENV=testAppveyor.yml Reference # Notes:# - Minimal appveyor.yml file is an empty file. All sections are optional.# - Indent each level of configuration with 2 spaces. Do not use tabs!# - All section names are case-sensitive."></head><body class="">
        <div class="container flex on-phone--column align-items--flex-start extended article-page with-toolbar">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                

                
                    
                    <img src="/img/wolaopo_huaa9cfa37fb7c13295de7156385ad8dbe_251770_300x300_resize_box_2.png" width="300"
                        height="300" class="site-logo" loading="lazy" alt="Avatar">
                

                <span class="emoji">üç•</span>
            </figure>
        
        <h1 class="site-name"><a href="https://sdttttt.github.io/">Smelly fish Rotten shrimp üìì</a></h1>
        <h2 class="site-description"></h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='https://sdttttt.github.io/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://sdttttt.github.io/about'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://sdttttt.github.io/archives'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
    </ol>
</aside>
            <main class="main full-width">
    <div id="article-toolbar">
        <a href="https://sdttttt.github.io/" class="back-home">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



            <span>Back</span>
        </a>
    </div>

    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <h2 class="article-title">
        <a href="https://sdttttt.github.io/p/appveyor/">Appveyor</a>
    </h2>

    </div>
</header>

    <section class="article-content">
    <p>Appveyor ‰πüÊòØ‰∏ÄÊ¨æÁ∫ø‰∏ä CICD Â∑•ÂÖ∑„ÄÇ</p>
<p>Support Contexts:</p>
<ul>
<li>Windows (Default)</li>
<li>Ubuntu</li>
<li>MacOS</li>
</ul>
<p>Support Languages:</p>
<ul>
<li>Node.js</li>
<li>io.js</li>
<li>Xamarin</li>
<li>Python</li>
<li>Ruby</li>
<li>C++</li>
<li>Go</li>
</ul>
<h2 id="ruby">Ruby</h2>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="w">
</span><span class="w"></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.0</span><span class="l">.{build}-{branch}</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">skip_commits</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">files</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="s1">&#39;azure-pipelines.yml&#39;</span><span class="w">
</span><span class="w">    </span>- <span class="s1">&#39;README.md&#39;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">set PATH=C:\Ruby26-x64\bin;%PATH%</span><span class="w">
</span><span class="w">  </span>- <span class="l">bundle install</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="kc">off</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">before_test</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">ruby -v</span><span class="w">
</span><span class="w">  </span>- <span class="l">gem -v</span><span class="w">
</span><span class="w">  </span>- <span class="l">bundle -v</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">test_script</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">rails db:migrate RAILS_ENV=test</span><span class="w">
</span><span class="w">
</span></code></pre></div><h2 id="appveyoryml-reference">Appveyor.yml Reference</h2>
<div class="highlight"><pre class="chroma"><code class="language-yml" data-lang="yml"><span class="w">
</span><span class="w"></span><span class="c"># Notes:</span><span class="w">
</span><span class="w"></span><span class="c">#   - Minimal appveyor.yml file is an empty file. All sections are optional.</span><span class="w">
</span><span class="w"></span><span class="c">#   - Indent each level of configuration with 2 spaces. Do not use tabs!</span><span class="w">
</span><span class="w"></span><span class="c">#   - All section names are case-sensitive.</span><span class="w">
</span><span class="w"></span><span class="c">#   - Section names should be unique on each level.</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#      general configuration      #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># version format</span><span class="w">
</span><span class="w"></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.0</span><span class="l">.{build}</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># you can use {branch} name in version format too</span><span class="w">
</span><span class="w"></span><span class="c"># version: 1.0.{build}-{branch}</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># branches to build</span><span class="w">
</span><span class="w"></span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c"># whitelist</span><span class="w">
</span><span class="w">  </span><span class="nt">only</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="l">master</span><span class="w">
</span><span class="w">    </span>- <span class="l">production</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># blacklist</span><span class="w">
</span><span class="w">  </span><span class="nt">except</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="l">gh-pages</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Do not build on tags (GitHub, Bitbucket, GitLab, Gitea)</span><span class="w">
</span><span class="w"></span><span class="nt">skip_tags</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Start builds on tags only (GitHub, BitBucket, GitLab, Gitea)</span><span class="w">
</span><span class="w"></span><span class="nt">skip_non_tags</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Skipping commits with particular message or from specific user</span><span class="w">
</span><span class="w"></span><span class="nt">skip_commits</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="l">/Created.*\.(png|jpg|jpeg|bmp|gif)/      # Regex for matching commit message</span><span class="w">
</span><span class="w">  </span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l">John                                      # Commit author&#39;s username, name, email or regexp maching one of these.</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Including commits with particular message or from specific user</span><span class="w">
</span><span class="w"></span><span class="nt">only_commits</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="l">/build/                # Start a new build if message contains &#39;build&#39;</span><span class="w">
</span><span class="w">  </span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l">jack@company.com        # Start a new build for commit of user with email jack@company.com</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Skipping commits affecting specific files (GitHub only). More details here: /docs/appveyor-yml</span><span class="w">
</span><span class="w"></span><span class="c">#skip_commits:</span><span class="w">
</span><span class="w"></span><span class="c">#  files:</span><span class="w">
</span><span class="w"></span><span class="c">#    - docs/*</span><span class="w">
</span><span class="w"></span><span class="c">#    - &#39;**/*.html&#39;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Including commits affecting specific files (GitHub only). More details here: /docs/appveyor-yml</span><span class="w">
</span><span class="w"></span><span class="c">#only_commits:</span><span class="w">
</span><span class="w"></span><span class="c">#  files:</span><span class="w">
</span><span class="w"></span><span class="c">#    - Project-A/</span><span class="w">
</span><span class="w"></span><span class="c">#    - Project-B/</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Do not build feature branch with open Pull Requests</span><span class="w">
</span><span class="w"></span><span class="nt">skip_branch_with_pr</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Maximum number of concurrent jobs for the project</span><span class="w">
</span><span class="w"></span><span class="nt">max_jobs</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#    environment configuration    #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Build worker image (VM template)</span><span class="w">
</span><span class="w"></span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">Visual Studio 2015</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts that are called at very beginning, before repo cloning</span><span class="w">
</span><span class="w"></span><span class="nt">init</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">git config --global core.autocrlf input</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># clone directory</span><span class="w">
</span><span class="w"></span><span class="nt">clone_folder</span><span class="p">:</span><span class="w"> </span><span class="l">c:\projects\myproject</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># fetch repository as zip archive</span><span class="w">
</span><span class="w"></span><span class="nt">shallow_clone</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                 </span><span class="c"># default is &#34;false&#34;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># set clone depth</span><span class="w">
</span><span class="w"></span><span class="nt">clone_depth</span><span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="w">                      </span><span class="c"># clone entire repository history if not defined</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># setting up etc\hosts file</span><span class="w">
</span><span class="w"></span><span class="nt">hosts</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">queue-server</span><span class="p">:</span><span class="w"> </span><span class="m">127.0.0.1</span><span class="w">
</span><span class="w">  </span><span class="nt">db.server.com</span><span class="p">:</span><span class="w"> </span><span class="m">127.0.0.2</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># environment variables</span><span class="w">
</span><span class="w"></span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">my_var1</span><span class="p">:</span><span class="w"> </span><span class="l">value1</span><span class="w">
</span><span class="w">  </span><span class="nt">my_var2</span><span class="p">:</span><span class="w"> </span><span class="l">value2</span><span class="w">
</span><span class="w">  </span><span class="c"># this is how to set encrypted variable. Go to &#34;Settings&#34; -&gt; &#34;Encrypt YAML&#34; page in account menu to encrypt data.</span><span class="w">
</span><span class="w">  </span><span class="nt">my_secure_var1</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">FW3tJ3fMncxvs58/ifSP7w==</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># environment:</span><span class="w">
</span><span class="w"></span><span class="c">#  global:</span><span class="w">
</span><span class="w"></span><span class="c">#    connection_string: server=12;password=13;</span><span class="w">
</span><span class="w"></span><span class="c">#    service_url: https://127.0.0.1:8090</span><span class="w">
</span><span class="w"></span><span class="c">#</span><span class="w">
</span><span class="w"></span><span class="c">#  matrix:</span><span class="w">
</span><span class="w"></span><span class="c">#  - db: mysql</span><span class="w">
</span><span class="w"></span><span class="c">#    provider: mysql</span><span class="w">
</span><span class="w"></span><span class="c">#</span><span class="w">
</span><span class="w"></span><span class="c">#  - db: mssql</span><span class="w">
</span><span class="w"></span><span class="c">#    provider: mssql</span><span class="w">
</span><span class="w"></span><span class="c">#    password:</span><span class="w">
</span><span class="w"></span><span class="c">#      secure: $#(JFDA)jQ@#$</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># this is how to allow failing jobs in the matrix</span><span class="w">
</span><span class="w"></span><span class="nt">matrix</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">fast_finish</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># set this flag to immediately finish build once one of the jobs fails.</span><span class="w">
</span><span class="w">  </span><span class="nt">allow_failures</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l">x86</span><span class="w">
</span><span class="w">      </span><span class="nt">configuration</span><span class="p">:</span><span class="w"> </span><span class="l">Debug</span><span class="w">
</span><span class="w">    </span>- <span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l">x64</span><span class="w">
</span><span class="w">      </span><span class="nt">configuration</span><span class="p">:</span><span class="w"> </span><span class="l">Release</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># exclude configuration from the matrix. Works similarly to &#39;allow_failures&#39; but build not even being started for excluded combination.</span><span class="w">
</span><span class="w">  </span><span class="nt">exclude</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l">x86</span><span class="w">
</span><span class="w">      </span><span class="nt">configuration</span><span class="p">:</span><span class="w"> </span><span class="l">Debug</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># build cache to preserve files/folders between builds</span><span class="w">
</span><span class="w"></span><span class="nt">cache</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">packages -&gt; **\packages.config  # preserve &#34;packages&#34; directory in the root of build folder but will reset it if packages.config is modified</span><span class="w">
</span><span class="w">  </span>- <span class="l">projectA\libs</span><span class="w">
</span><span class="w">  </span>- <span class="l">node_modules                    # local npm modules</span><span class="w">
</span><span class="w">  </span>- <span class="s1">&#39;%LocalAppData%\NuGet\Cache&#39;</span><span class="w">    </span><span class="c"># NuGet &lt; v3</span><span class="w">
</span><span class="w">  </span>- <span class="s1">&#39;%LocalAppData%\NuGet\v3-cache&#39;</span><span class="w"> </span><span class="c"># NuGet v3</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># enable service required for build/tests</span><span class="w">
</span><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">mssql2014           # start SQL Server 2014 Express</span><span class="w">
</span><span class="w">  </span>- <span class="l">mssql2014rs         # start SQL Server 2014 Express and Reporting Services</span><span class="w">
</span><span class="w">  </span>- <span class="l">mssql2012sp1        # start SQL Server 2012 SP1 Express</span><span class="w">
</span><span class="w">  </span>- <span class="l">mssql2012sp1rs      # start SQL Server 2012 SP1 Express and Reporting Services</span><span class="w">
</span><span class="w">  </span>- <span class="l">mssql2008r2sp2      # start SQL Server 2008 R2 SP2 Express</span><span class="w">
</span><span class="w">  </span>- <span class="l">mssql2008r2sp2rs    # start SQL Server 2008 R2 SP2 Express and Reporting Services</span><span class="w">
</span><span class="w">  </span>- <span class="l">mysql               # start MySQL 5.6 service</span><span class="w">
</span><span class="w">  </span>- <span class="l">postgresql          # start PostgreSQL 9.5 service</span><span class="w">
</span><span class="w">  </span>- <span class="l">iis                 # start IIS</span><span class="w">
</span><span class="w">  </span>- <span class="l">msmq                # start Queuing services</span><span class="w">
</span><span class="w">  </span>- <span class="l">mongodb             # start MongoDB</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts that run after cloning repository</span><span class="w">
</span><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c"># by default, all script lines are interpreted as batch</span><span class="w">
</span><span class="w">  </span>- <span class="l">echo This is batch</span><span class="w">
</span><span class="w">  </span><span class="c"># to run script as a PowerShell command prepend it with ps:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">ps</span><span class="p">:</span><span class="w"> </span><span class="l">Write-Host &#39;This is PowerShell&#39;</span><span class="w">
</span><span class="w">  </span><span class="c"># batch commands start from cmd:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">cmd</span><span class="p">:</span><span class="w"> </span><span class="l">echo This is batch again</span><span class="w">
</span><span class="w">  </span>- <span class="nt">cmd</span><span class="p">:</span><span class="w"> </span><span class="l">set MY_VAR=12345</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># enable patching of AssemblyInfo.* files</span><span class="w">
</span><span class="w"></span><span class="nt">assembly_info</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">patch</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l">AssemblyInfo.*</span><span class="w">
</span><span class="w">  </span><span class="nt">assembly_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2.2.{build}&#34;</span><span class="w">
</span><span class="w">  </span><span class="nt">assembly_file_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{version}&#34;</span><span class="w">
</span><span class="w">  </span><span class="nt">assembly_informational_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{version}&#34;</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Automatically register private account and/or project AppVeyor NuGet feeds.</span><span class="w">
</span><span class="w"></span><span class="nt">nuget</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">account_feed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">project_feed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">disable_publish_on_pr</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># disable publishing of .nupkg artifacts to account/project feeds for pull request builds</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_wap_octopus</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># disable publishing of Octopus Deploy .nupkg artifacts to account/project feeds</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#       build configuration       #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># build platform, i.e. x86, x64, Any CPU. This setting is optional.</span><span class="w">
</span><span class="w"></span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l">Any CPU</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to add several platforms to build matrix:</span><span class="w">
</span><span class="w"></span><span class="c">#platform:</span><span class="w">
</span><span class="w"></span><span class="c">#  - x86</span><span class="w">
</span><span class="w"></span><span class="c">#  - Any CPU</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># build Configuration, i.e. Debug, Release, etc.</span><span class="w">
</span><span class="w"></span><span class="nt">configuration</span><span class="p">:</span><span class="w"> </span><span class="l">Release</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to add several configurations to build matrix:</span><span class="w">
</span><span class="w"></span><span class="c">#configuration:</span><span class="w">
</span><span class="w"></span><span class="c">#  - Debug</span><span class="w">
</span><span class="w"></span><span class="c">#  - Release</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Build settings, not to be confused with &#34;before_build&#34; and &#34;after_build&#34;.</span><span class="w">
</span><span class="w"></span><span class="c"># &#34;project&#34; is relative to the original build directory and not influenced by directory changes in &#34;before_build&#34;.</span><span class="w">
</span><span class="w"></span><span class="nt">build</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">parallel</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                  </span><span class="c"># enable MSBuild parallel builds</span><span class="w">
</span><span class="w">  </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l">MyTestAzureCS.sln      # path to Visual Studio solution or project</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_wap</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">               </span><span class="c"># package Web Application Projects (WAP) for Web Deploy</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_wap_xcopy</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">         </span><span class="c"># package Web Application Projects (WAP) for XCopy deployment</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_wap_beanstalk</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># Package Web Applications for AWS Elastic Beanstalk deployment</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_wap_octopus</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># Package Web Applications for Octopus deployment</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_azure_webjob</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">      </span><span class="c"># Package Azure WebJobs for Zip Push deployment</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_azure</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">             </span><span class="c"># package Azure Cloud Service projects and push to artifacts</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_aspnet_core</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># Package ASP.NET Core projects</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_core_console</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">      </span><span class="c"># Package .NET Core console projects</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_nuget</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">             </span><span class="c"># package projects with .nuspec files and push to artifacts</span><span class="w">
</span><span class="w">  </span><span class="nt">publish_nuget_symbols</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># generate and publish NuGet symbol packages</span><span class="w">
</span><span class="w">  </span><span class="nt">include_nuget_references</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># add -IncludeReferencedProjects option while packaging NuGet artifacts</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># MSBuild verbosity level</span><span class="w">
</span><span class="w">  </span><span class="nt">verbosity</span><span class="p">:</span><span class="w"> </span><span class="l">quiet|minimal|normal|detailed</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run before build</span><span class="w">
</span><span class="w"></span><span class="nt">before_build</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to run your custom scripts instead of automatic MSBuild</span><span class="w">
</span><span class="w"></span><span class="nt">build_script</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run after build (working directory and environment changes are persisted from the previous steps)</span><span class="w">
</span><span class="w"></span><span class="nt">after_build</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run *after* solution is built and *before* automatic packaging occurs (web apps, NuGet packages, Azure Cloud Services)</span><span class="w">
</span><span class="w"></span><span class="nt">before_package</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to disable automatic builds</span><span class="w">
</span><span class="w"></span><span class="c">#build: off</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#       tests configuration       #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to run tests against only selected assemblies and/or categories</span><span class="w">
</span><span class="w"></span><span class="nt">test</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">assemblies</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">only</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">asm1.dll</span><span class="w">
</span><span class="w">      </span>- <span class="l">asm2.dll</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">only</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">UI</span><span class="w">
</span><span class="w">      </span>- <span class="l">E2E</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to run tests against all except selected assemblies and/or categories</span><span class="w">
</span><span class="w"></span><span class="c">#test:</span><span class="w">
</span><span class="w"></span><span class="c">#  assemblies:</span><span class="w">
</span><span class="w"></span><span class="c">#    except:</span><span class="w">
</span><span class="w"></span><span class="c">#      - asm1.dll</span><span class="w">
</span><span class="w"></span><span class="c">#      - asm2.dll</span><span class="w">
</span><span class="w"></span><span class="c">#</span><span class="w">
</span><span class="w"></span><span class="c">#  categories:</span><span class="w">
</span><span class="w"></span><span class="c">#    except:</span><span class="w">
</span><span class="w"></span><span class="c">#      - UI</span><span class="w">
</span><span class="w"></span><span class="c">#      - E2E</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to run tests from different categories as separate jobs in parallel</span><span class="w">
</span><span class="w"></span><span class="c">#test:</span><span class="w">
</span><span class="w"></span><span class="c">#  categories:</span><span class="w">
</span><span class="w"></span><span class="c">#    - A            # A category common for all jobs</span><span class="w">
</span><span class="w"></span><span class="c">#    - [UI]         # 1st job</span><span class="w">
</span><span class="w"></span><span class="c">#    - [DAL, BL]    # 2nd job</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run before tests (working directory and environment changes are persisted from the previous steps such as &#34;before_build&#34;)</span><span class="w">
</span><span class="w"></span><span class="nt">before_test</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">echo script1</span><span class="w">
</span><span class="w">  </span>- <span class="nt">ps</span><span class="p">:</span><span class="w"> </span><span class="l">Write-Host &#34;script1&#34;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to run your custom scripts instead of automatic tests</span><span class="w">
</span><span class="w"></span><span class="nt">test_script</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">echo This is my custom test script</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run after tests</span><span class="w">
</span><span class="w"></span><span class="nt">after_test</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to disable automatic tests</span><span class="w">
</span><span class="w"></span><span class="c">#test: off</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#      artifacts configuration    #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">artifacts</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># pushing a single file</span><span class="w">
</span><span class="w">  </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">test.zip</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># pushing a single file with environment variable in path and &#34;Deployment name&#34; specified</span><span class="w">
</span><span class="w">  </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">MyProject\bin\$(configuration)</span><span class="w">
</span><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">myapp</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># pushing entire folder as a zip archive</span><span class="w">
</span><span class="w">  </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">logs</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># pushing all *.nupkg files in build directory recursively</span><span class="w">
</span><span class="w">  </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;**\*.nupkg&#39;</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#     deployment configuration    #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># providers: Local, FTP, WebDeploy, AzureCS, AzureBlob, S3, NuGet, Environment</span><span class="w">
</span><span class="w"></span><span class="c"># provider names are case-sensitive!</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># FTP deployment provider settings</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">FTP</span><span class="w">
</span><span class="w">    </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l">ftp|ftps|sftp</span><span class="w">
</span><span class="w">    </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">ftp.myserver.com</span><span class="w">
</span><span class="w">    </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">admin</span><span class="w">
</span><span class="w">    </span><span class="nt">password</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">eYKZKFkkEvFYWX6NfjZIVw==</span><span class="w">
</span><span class="w">    </span><span class="nt">folder</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">active_mode</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">beta</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">      </span><span class="c"># enable alternative FTP library for &#39;ftp&#39; and &#39;ftps&#39; modes</span><span class="w">
</span><span class="w">    </span><span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># show complete FTP log</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Amazon S3 deployment provider settings</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">S3</span><span class="w">
</span><span class="w">    </span><span class="nt">access_key_id</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">ABcd==</span><span class="w">
</span><span class="w">    </span><span class="nt">secret_access_key</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">ABcd==</span><span class="w">
</span><span class="w">    </span><span class="nt">bucket</span><span class="p">:</span><span class="w"> </span><span class="l">my_bucket</span><span class="w">
</span><span class="w">    </span><span class="nt">folder</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">artifact</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">set_public</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Azure Blob storage deployment provider settings</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">AzureBlob</span><span class="w">
</span><span class="w">    </span><span class="nt">storage_account_name</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">ABcd==</span><span class="w">
</span><span class="w">    </span><span class="nt">storage_access_key</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">ABcd==</span><span class="w">
</span><span class="w">    </span><span class="nt">container</span><span class="p">:</span><span class="w"> </span><span class="l">my_container</span><span class="w">
</span><span class="w">    </span><span class="nt">folder</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">artifact</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Web Deploy deployment provider settings</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">WebDeploy</span><span class="w">
</span><span class="w">    </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l">http://www.deploy.com/myendpoint</span><span class="w">
</span><span class="w">    </span><span class="nt">website</span><span class="p">:</span><span class="w"> </span><span class="l">mywebsite</span><span class="w">
</span><span class="w">    </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">user</span><span class="w">
</span><span class="w">    </span><span class="nt">password</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">eYKZKFkkEvFYWX6NfjZIVw==</span><span class="w">
</span><span class="w">    </span><span class="nt">ntlm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">remove_files</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">app_offline</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">do_not_use_checksum</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">           </span><span class="c"># do not use check sum for comparing source and destination files. By default checksums are used.</span><span class="w">
</span><span class="w">    </span><span class="nt">sync_retry_attempts</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">              </span><span class="c"># sync attempts, max</span><span class="w">
</span><span class="w">    </span><span class="nt">sync_retry_interval</span><span class="p">:</span><span class="w"> </span><span class="m">2000</span><span class="w">           </span><span class="c"># timeout between sync attempts, milliseconds</span><span class="w">
</span><span class="w">    </span><span class="nt">aspnet_core</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                   </span><span class="c"># artifact zip contains ASP.NET Core application</span><span class="w">
</span><span class="w">    </span><span class="nt">aspnet_core_force_restart</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># poke app&#39;s web.config before deploy to force application restart</span><span class="w">
</span><span class="w">    </span><span class="nt">skip_dirs</span><span class="p">:</span><span class="w"> </span><span class="l">\\App_Data</span><span class="w">
</span><span class="w">    </span><span class="nt">skip_files</span><span class="p">:</span><span class="w"> </span><span class="l">web.config</span><span class="w">
</span><span class="w">    </span><span class="nt">on</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l">release</span><span class="w">
</span><span class="w">      </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l">x86</span><span class="w">
</span><span class="w">      </span><span class="nt">configuration</span><span class="p">:</span><span class="w"> </span><span class="l">debug</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Deploying to Azure Cloud Service</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">AzureCS</span><span class="w">
</span><span class="w">    </span><span class="nt">subscription_id</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">fjZIVw==</span><span class="w">
</span><span class="w">    </span><span class="nt">subscription_certificate</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">eYKZKFkkEv...FYWX6NfjZIVw==</span><span class="w">
</span><span class="w">    </span><span class="nt">storage_account_name</span><span class="p">:</span><span class="w"> </span><span class="l">my_storage</span><span class="w">
</span><span class="w">    </span><span class="nt">storage_access_key</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">ABcd==</span><span class="w">
</span><span class="w">    </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">my_service</span><span class="w">
</span><span class="w">    </span><span class="nt">slot</span><span class="p">:</span><span class="w"> </span><span class="l">Production</span><span class="w">
</span><span class="w">    </span><span class="nt">target_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Cloud</span><span class="w">
</span><span class="w">    </span><span class="nt">artifact</span><span class="p">:</span><span class="w"> </span><span class="l">MyPackage.cspkg</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Deploying to NuGet feed</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">NuGet</span><span class="w">
</span><span class="w">    </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l">https://my.nuget.server/feed</span><span class="w">
</span><span class="w">    </span><span class="nt">api_key</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">FYWX6NfjZIVw==</span><span class="w">
</span><span class="w">    </span><span class="nt">skip_symbols</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">symbol_server</span><span class="p">:</span><span class="w"> </span><span class="l">https://your.symbol.server/feed</span><span class="w">
</span><span class="w">    </span><span class="nt">artifact</span><span class="p">:</span><span class="w"> </span><span class="l">MyPackage.nupkg</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Deploy to GitHub Releases</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">GitHub</span><span class="w">
</span><span class="w">    </span><span class="nt">artifact</span><span class="p">:</span><span class="w"> </span><span class="l">/.*\.nupkg/           # upload all NuGet packages to release assets</span><span class="w">
</span><span class="w">    </span><span class="nt">draft</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">prerelease</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">on</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l">master                # release from master branch only</span><span class="w">
</span><span class="w">      </span><span class="nt">APPVEYOR_REPO_TAG</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># deploy on tag push only</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="c"># Deploying to a named environment</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">Environment</span><span class="w">
</span><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">staging</span><span class="w">
</span><span class="w">    </span><span class="nt">on</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l">staging</span><span class="w">
</span><span class="w">      </span><span class="nt">env_var1</span><span class="p">:</span><span class="w"> </span><span class="l">value1</span><span class="w">
</span><span class="w">      </span><span class="nt">env_var2</span><span class="p">:</span><span class="w"> </span><span class="l">value2</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run before deployment</span><span class="w">
</span><span class="w"></span><span class="nt">before_deploy</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># scripts to run after deployment</span><span class="w">
</span><span class="w"></span><span class="nt">after_deploy</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to run your custom scripts instead of provider deployments</span><span class="w">
</span><span class="w"></span><span class="nt">deploy_script</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># to disable deployment</span><span class="w">
</span><span class="w"></span><span class="c">#deploy: off</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#        global handlers          #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># on successful build</span><span class="w">
</span><span class="w"></span><span class="nt">on_success</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">do something</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># on build failure</span><span class="w">
</span><span class="w"></span><span class="nt">on_failure</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">do something</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># after build failure or success</span><span class="w">
</span><span class="w"></span><span class="nt">on_finish</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">do something</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w"></span><span class="c">#         notifications           #</span><span class="w">
</span><span class="w"></span><span class="c">#---------------------------------#</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">notifications</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Email</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">Email</span><span class="w">
</span><span class="w">    </span><span class="nt">to</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">user1@email.com</span><span class="w">
</span><span class="w">      </span>- <span class="l">user2@email.com</span><span class="w">
</span><span class="w">    </span><span class="nt">subject</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Build {{status}}&#39;</span><span class="w">                  </span><span class="c"># optional</span><span class="w">
</span><span class="w">    </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{{message}}, {{commitId}}, ...&#34;</span><span class="w">    </span><span class="c"># optional</span><span class="w">
</span><span class="w">    </span><span class="nt">on_build_status_changed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># HipChat</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">HipChat</span><span class="w">
</span><span class="w">    </span><span class="nt">auth_token</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">RbOnSMSFKYzxzFRrxM1+XA==</span><span class="w">
</span><span class="w">    </span><span class="nt">room</span><span class="p">:</span><span class="w"> </span><span class="l">ProjectA</span><span class="w">
</span><span class="w">    </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{message}, {commitId}, ...&#34;</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Slack</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">Slack</span><span class="w">
</span><span class="w">    </span><span class="nt">incoming_webhook</span><span class="p">:</span><span class="w"> </span><span class="l">http://incoming-webhook-url</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># ...or using auth token</span><span class="w">
</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">Slack</span><span class="w">
</span><span class="w">    </span><span class="nt">auth_token</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">kBl9BlxvRMr9liHmnBs14A==</span><span class="w">
</span><span class="w">    </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l">development</span><span class="w">
</span><span class="w">    </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{message}, {commitId}, ...&#34;</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Campfire</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">Campfire</span><span class="w">
</span><span class="w">    </span><span class="nt">account</span><span class="p">:</span><span class="w"> </span><span class="l">appveyor</span><span class="w">
</span><span class="w">    </span><span class="nt">auth_token</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">RifLRG8Vfyol+sNhj9u2JA==</span><span class="w">
</span><span class="w">    </span><span class="nt">room</span><span class="p">:</span><span class="w"> </span><span class="l">ProjectA</span><span class="w">
</span><span class="w">    </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{message}, {commitId}, ...&#34;</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Webhook</span><span class="w">
</span><span class="w">  </span>- <span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">Webhook</span><span class="w">
</span><span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">http://www.myhook2.com</span><span class="w">
</span><span class="w">    </span><span class="nt">headers</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">User-Agent</span><span class="p">:</span><span class="w"> </span><span class="l">myapp 1.0</span><span class="w">
</span><span class="w">      </span><span class="nt">Authorization</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l">GhD+5xhLz/tkYY6AO3fcfQ==</span><span class="w">
</span><span class="w">    </span><span class="nt">on_build_success</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">on_build_failure</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">on_build_status_changed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span></code></pre></div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="https://sdttttt.github.io/tags/cicd/">CICD</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>

    
</article>

    <aside class="widget related-contents--wrapper">
    
    
</aside>

    
        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>
    var gitalk = new Gitalk({
  clientID: '747ab8530477531c3d25',
  clientSecret: 'af2cc18e4c27998636a6a3c82af0064f38574170',
  repo: 'sdttttt.github.io',
  owner: 'sdttttt',
  admin: ['sdttttt'],
  id: location.pathname,      
  distractionFreeMode: true  
})

gitalk.render('gitalk-container')
</script>

    

    <footer class="site-footer">

</footer>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true" style="display:none">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
            </main>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"
    integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin="anonymous"></script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<link rel="stylesheet" href="/css/highlight/light.min.css" media="(prefers-color-scheme: light)">
<link rel="stylesheet" href="/css/highlight/dark.min.css" media="(prefers-color-scheme: dark)">

    </body>
</html>
