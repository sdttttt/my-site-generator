<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>CSIP鸡你太美存器 | SDTTTTT</title><link rel=stylesheet href=/sass/main.min.12754930aaca2409561861a9f13c52153f073ef96d63061a9a330c250f392fcb.css></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/>SDTTTTT</a></div><div class=flex><button id=dark-mode-button></button></div></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>CSIP鸡你太美存器</h1><div class=post-meta><div>By on <time>April 06, 2020</time></div><div class=tags><a href=/tags/assembly/>assembly</a></div></div></div></div></header></article><div class=article-post><p>之前刚学的时候对这个玩意音响没那么深刻，现在再学，感觉很不一样了。</p><p>CS为代码段寄存器，IP为指令指针寄存器。
设CS = M, IP = N, 8086CPU将从 <code>M × 16 + N</code> 处读取指令并进行。</p><p>也可以这样表述： <strong>8086CPU中，任意时刻，CPU都会将CS:IP指向的内容做为执行指令.</strong></p><p>执行流程:</p><ul><li>初始状态: CS = 2000H, IP = 0000H</li><li>CS:IP 内容送入地址加法器，2000H × 16 + 0000H = 20000H</li><li>地址加法器计算出物理地址20000H后将结果送入输入输出电路.</li><li>输入输出电路将物理地址20000H送到地址总线。</li><li>内存将物理地址20000H上存放的机器指令X通过数据总线送入CPU.</li><li>输入输出电路将机器指令X送入指令缓冲器。</li><li>寄存器IP的值自动增加。</li><li>以此类推&mldr;</li></ul><hr><p>当8086CPU加点或者复位后，CS = FFFFH, IP = 0000H,也就是CPU清晨起床做的第一件事就是去执行FFFF0H内存单元中存放的机器指令。</p><h2 id=修改csip>修改CS:IP</h2><p><code>mov</code>指令能帮我们将值送入寄存器。但是，它不能用于修改CS:IP，原因很简单8086出于设计考量不允许。
能修改CS:IP的指令统称为<code>转移指令</code>（以后我们深入研究）,现在我学习第一个可以修改CS:IP寄存器的指令，<code>jmp</code>.</p><p>若想同时修改CS:IP寄存器,可以用<code>jmp 段地址, 偏移地址</code>的指令来完成。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-asm data-lang=asm><span class=nf>jmp</span> <span class=mi>2</span><span class=no>AE3</span><span class=p>:</span><span class=mi>3</span> <span class=c>;执行后: CS = 2AE3H IP = 0003H, CPU 将从这2AE33H 处读取指令
</span></code></pre></td></tr></table></div></div><p>如果只想修改IP寄存器, 可以用<code>jmp 寄存器</code>的指令来完成.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-asm data-lang=asm><span class=nf>jmp</span> <span class=no>ax</span>
</code></pre></td></tr></table></div></div><p>类似, <code>mov IP, ax</code></p></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/blog/multiplexingio/ title="Previous post (older)"><span>Previous</span>
MultiplexingIO</a>
<a rel=next href=/blog/sssp/ title="Next post (newer)"><span>Next</span>
SS:SP鸡你太美存器</a></nav></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links></nav></section><script async src=/js/features.min.f77830aff4bfb7a756b9ef68388f40d2187cb0046d41790785074eb8cd054cc3.js data-enable-footnotes=true></script></footer></body></html>