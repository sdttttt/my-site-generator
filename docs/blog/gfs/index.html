<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>GFS | SDTTTTT</title><link rel=stylesheet href=/sass/main.min.12754930aaca2409561861a9f13c52153f073ef96d63061a9a330c250f392fcb.css></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/>SDTTTTT</a></div><div class=flex><button id=dark-mode-button></button></div></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>GFS</h1><div class=post-meta><div>By sdttttt on <time>May 09, 2020</time></div><div class=tags></div></div></div></div></header></article><div class=article-post><p>这是 <code>MIT 6.824</code> 课程<code>GFS</code>部分的一些总结.</p><p>GFS (Google File System) 是Google为了管理海量数据而开发的一个分布式文件系统.</p><p>直接进入正题.</p><p>在GFS中文件是以<code>Chunk</code>的形式存储。所谓的<code>Chunk</code>是一个储存块。一个Chunk的大小为64MB.一个文件会分为多个Chunk.储存在不同的服务器里。当然也会有2-3份<code>Chunk</code>的拷贝。</p><p>GFS中还存在一个<code>Master</code>，Master收集所有文件的metadata, 保存在一张表中。</p><p>下面简单的解释一下读操作的交互。</p><ul><li><code>Client</code>指定的文件名和字节偏移转换成文件的一个块索引（<code>Chunk Index</code>）。</li><li>给<code>Master</code>发送一个包含文件名和块索引的请求。</li><li>master回应对应的<code>Chunk Handle</code>(存储数据服务器以<code>Chunk Handle</code>标识<code>Chunk</code>)和副本的位置（多个副本）。</li><li><code>Client</code>以文件名和块索引为键缓存这些信息。（handle和副本的位置）</li><li><code>Client</code>向其中一个副本发送一个请求，很可能是最近的一个副本。请求指定了<code>Chunk Handle</code>和块内的一个字节区间。</li><li>除非缓存的信息不再有效（cache for a limited time）或文件被重新打开，否则以后对同一个块的读操作不再需要client和master间的交互。</li></ul></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/blog/consistent_hash_algorithm/ title="Previous post (older)"><span>Previous</span>
一致性哈希算法</a>
<a rel=next href=/blog/stack_rust/ title="Next post (newer)"><span>Next</span>
Stack by Rust implement</a></nav></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links></nav></section><script async src=/js/features.min.f77830aff4bfb7a756b9ef68388f40d2187cb0046d41790785074eb8cd054cc3.js data-enable-footnotes=true></script></footer></body></html>