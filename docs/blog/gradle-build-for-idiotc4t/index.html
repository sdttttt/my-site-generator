<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>记录一次Gradle构建的困难 | SDTTTTT</title><link rel=stylesheet href=/sass/main.min.12754930aaca2409561861a9f13c52153f073ef96d63061a9a330c250f392fcb.css></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/>SDTTTTT</a></div><div class=flex><button id=dark-mode-button></button></div></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>记录一次Gradle构建的困难</h1><div class=post-meta><div>By sdttttt on <time>February 05, 2021</time></div><div class=tags><a href=/tags/java/>java</a>
<a href=/tags/build/>build</a></div></div></div></div></header></article><div class=article-post><p>受@idiotc4t所托, 我拿到了一个Java项目, 目的是要把这玩意编译出来, 最初我还以为和以前的Java项目类似,
只要<code>mvn build</code> 就能一了百了, 没想到这次拿到的是一个使用gradle构建的项目.</p><blockquote><p>gradle的出现比maven晚, 它们都是用来构建运行在JVM上的应用使用的, gradle可以使用编程语言来自定义你的构建流程, 类似C的makefile(这个比喻不太好其实), 或者是JavaScript的gulp. gradle解决了maven的一些特点, 比如xml的配置繁琐, 看着就头大, 以及构建步骤的灵活控制. 总之很牛逼就是了, 也比较难上手.</p></blockquote><p>由于我以前使用过一段时间的gradle, 所以我知道用gradle打jar包的困难. (gradle这个工具通常都是给Android开发者用的, 默认没有提供打成Jar包的选项, 所以打出来什么包, 得看缘分.)</p><p>当我运行<code>gradle build</code>后, <strong>光速</strong>构建完成, 我定神一看, 没有工程文件目录, 倒是有一个jar包 ,这个jar包就14KB, 好家伙, 肯定没构建成功. (正常的java程序绝对不会这么小, 一般肯定是1MB以上) 输入<code>java -jar</code>一看, 果然:</p><pre><code>...jar: 没有主清单属性
</code></pre><p>总之我在网上查了半天都没发现解决方法. 最后把目光转向代码, 最后发现在代码中都没有声明包路径&mldr;</p><blockquote><p>(嘶&mldr;.这厮在README里是怎么打包的???我怀疑有这B留了一手)</p></blockquote><p>最后用宇宙第一IDE(IDEA)重构了整个包的代码, 补上了包路径. 再次尝试<code>gradle build</code>,终于看到了工程文件.</p><p>总之, 还好老子技高一筹.</p><p>写完了, 摸了.</p></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/blog/js-1/ title="Previous post (older)"><span>Previous</span>
节流与防抖</a>
<a rel=next href=/blog/new-rss/ title="Next post (newer)"><span>Next</span>
RSS 好耶!</a></nav></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links></nav></section><script async src=/js/features.min.f77830aff4bfb7a756b9ef68388f40d2187cb0046d41790785074eb8cd054cc3.js data-enable-footnotes=true></script></footer></body></html>